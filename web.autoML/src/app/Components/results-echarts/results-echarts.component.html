<div class="echarts-container">
    <div class="chart-input-container">
        <div class="RequestIDClass">
            <mat-form-field class="requestInput">
                <mat-label>Request ID</mat-label>
                <input matInput type="text" class="requestInput" [value]="requestId" placeholder="requestId"
                    aria-required="true" (keyup)="changeInRequestId($event)" />
            </mat-form-field>
        </div>
        <mat-divider ></mat-divider>
        <div class="visualization-types">
            <mat-form-field *ngIf="yAxisData!=null && yAxisData.length > 0" class="requestInput">
                <mat-label>Visualization Type</mat-label>
                <mat-select aria-required="true" [(value)]="visualizationType"
                    (selectionChange)="changeInVisualizationType($event.value)">
                    <mat-option value="default_visualization">Default Visualizations</mat-option>
                    <mat-option value="data_centric_visualization">Data Centric Visualizations</mat-option>
                </mat-select>
            </mat-form-field>
        
        <div *ngIf="visualizationType=='default_visualization'">
            <mat-form-field *ngIf="yAxisData!=null && yAxisData.length > 0" class="requestInput">
                <mat-label>Chart Type</mat-label>
                <mat-select aria-required="true" [(value)]="chartType"
                    (selectionChange)="changeInChartType($event.value)">
                    <mat-option value="boxplot">Boxplot</mat-option>
                    <mat-option value="cv_line_chart">Cross Validation Line Chart</mat-option>
                    <mat-option value="train_test_error">Train Test Error</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field *ngIf="yAxisData!=null && yAxisData.length > 0" class="requestInput">
                <mat-label>Metric</mat-label>
                <mat-select aria-required="true" [(value)]="currentMetric"
                    (selectionChange)="changeInCurrentMetric($event.value)">
                    <mat-option *ngFor="let v of yAxisData" [value]="v">{{v}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field *ngIf="regressorList!=null && regressorList.length > 0 && chartType == 'train_test_error'"
                class="form-field-styles">
                <mat-label>Regressor</mat-label>
                <mat-select aria-required="true" [(value)]="currentRegressor"
                    (selectionChange)="changeInRegressor($event.value)">
                    <mat-option *ngFor="let v of regressorList" [value]="v">{{v}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div *ngIf="visualizationType=='data_centric_visualization'">
            <mat-form-field *ngIf="yAxisData!=null && yAxisData.length > 0" class="requestInput">
                <mat-label>Chart Type</mat-label>
                <mat-select aria-required="true" [(value)]="chartType"
                    (selectionChange)="changeInChartType($event.value)">
                    <mat-option value="tsne_visualization_2d">TSNE Visualization</mat-option>
                    <mat-option value="pca_visualization_2d">PCA Visualization</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field *ngIf="yAxisData!=null && yAxisData.length > 0" class="requestInput">
                <mat-label>Metric</mat-label>
                <mat-select aria-required="true" [(value)]="currentMetric"
                    (selectionChange)="changeInCurrentMetric($event.value)">
                    <mat-option *ngFor="let v of yAxisData" [value]="v">{{v}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field *ngIf="regressorList!=null && regressorList.length > 0" class="requestInput">
                <mat-label>Regressor</mat-label>
                <mat-select aria-required="true" [(value)]="currentRegressor"
                    (selectionChange)="changeInRegressor($event.value)">
                    <mat-option *ngFor="let v of regressorList" [value]="v">{{v}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <button mat-raised-button color="primary" class="form-field-styles" (click)="fetchRawData()">Plot</button>
    </div>
</div>

    <div ng-if="chartOptions != null" echarts [options]="chartOptions" class="chart-container"></div>
</div>